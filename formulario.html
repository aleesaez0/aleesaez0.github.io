<!DOCTYPE html>
<html lang="es">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tu Experiencia - Hábitos Saludables</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- CSS personalizado -->
    <link rel="stylesheet" href="css/style.css">

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
    <!-- Header (Navbar) -->
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-primary fixed-top">
            <div class="container">
                <a class="navbar-brand text-white" href="index.html">Hábitos Saludables</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item"><a class="nav-link text-white" href="index.html">Inicio</a></li>
                        <li class="nav-item"><a class="nav-link text-white" href="alimentacion.html">Alimentación</a></li>
                        <li class="nav-item"><a class="nav-link text-white" href="deporte.html">Deporte</a></li>
                        <li class="nav-item"><a class="nav-link text-white" href="salud_mental.html">Salud Mental</a></li>
                        <li class="nav-item"><a class="nav-link text-white active" href="formulario.html">Tu Experiencia</a></li>
                        <li class="nav-item"><a class="nav-link text-white" href="contacto.html">Contacto</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <div class="container mt-5 pt-5">
        <h2 class="text-center">Tu Experiencia en Hábitos Saludables</h2>
        
        <!-- Barra de progreso -->
        <div class="progress my-4">
            <div id="progress-bar" class="progress-bar bg-success" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        
        <form id="experience-form">
            <!-- Página 1: Alimentación -->
            <div id="page-1" class="page">
                <div class="mb-3">
                    <label for="meal-prep" class="form-label">¿Preparas tus comidas en casa?</label>
                    <select class="form-select" id="meal-prep" name="meal-prep" required>
                        <option value="">Selecciona una opción</option>
                        <option value="siempre">Siempre</option>
                        <option value="a veces">A veces</option>
                        <option value="nunca">Nunca</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="sugar-intake" class="form-label">¿Cuántas bebidas azucaradas consumes a la semana?</label>
                    <input type="number" class="form-control" id="sugar-intake" name="sugar-intake" min="0" required>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="fast-food" class="form-label">¿Con qué frecuencia comes en restaurantes de comida rápida?</label>
                    <select class="form-select" id="fast-food" name="fast-food" required>
                        <option value="">Selecciona una opción</option>
                        <option value="nunca">Nunca</option>
                        <option value="ocasionalmente">Ocasionalmente</option>
                        <option value="frecuentemente">Frecuentemente</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="snack-frequency" class="form-label">¿Con qué frecuencia consumes snacks entre comidas?</label>
                    <select class="form-select" id="snack-frequency" name="snack-frequency" required>
                        <option value="">Selecciona una opción</option>
                        <option value="siempre">Siempre</option>
                        <option value="a veces">A veces</option>
                        <option value="nunca">Nunca</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="fruit-intake" class="form-label">¿Cuántas porciones de fruta consumes al día?</label>
                    <input type="number" class="form-control" id="fruit-intake" name="fruit-intake" min="0" required>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>
            </div>

            <!-- Página 2: Ejercicio -->
            <div id="page-2" class="page" style="display:none;">
                <div class="mb-3">
                    <label for="water-intake" class="form-label">¿Cuántos vasos de agua bebes al día?</label>
                    <input type="number" class="form-control" id="water-intake" name="water-intake" min="0" required>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="exercise-frequency" class="form-label">¿Realizas ejercicio regularmente?</label>
                    <select class="form-select" id="exercise-frequency" name="exercise-frequency" required>
                        <option value="">Selecciona una opción</option>
                        <option value="siempre">Siempre</option>
                        <option value="a veces">A veces</option>
                        <option value="nunca">Nunca</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="sport-type" class="form-label">¿Qué deporte practicas, si realizas alguno?</label>
                    <input type="text" class="form-control" id="sport-type" name="sport-type" placeholder="Especifica el deporte" required>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="exercise-duration" class="form-label">¿Cuántas horas al día dedicas al ejercicio físico?</label>
                    <input type="number" class="form-control" id="exercise-duration" name="exercise-duration" min="0" max="24" required>
                    <div class="invalid-feedback">El campo está vacío o el tiempo excede el permitido (24 horas).</div>
                </div>

                <div class="mb-3">
                    <label for="exercise-days" class="form-label">¿Cuántos días a la semana haces ejercicio?</label>
                    <input type="number" class="form-control" id="exercise-days" name="exercise-days" min="0" max="7" required>
                    <div class="invalid-feedback">El campo está vacío o el tiempo excede el permitido (7 días).</div>
                </div>
            </div>

            <!-- Página 3: Salud Mental -->
            <div id="page-3" class="page" style="display:none;">
                <div class="mb-3">
                    <label for="stress-level" class="form-label">¿Cómo calificarías tu nivel de estrés diario?</label>
                    <select class="form-select" id="stress-level" name="stress-level" required>
                        <option value="">Selecciona una opción</option>
                        <option value="bajo">Bajo</option>
                        <option value="moderado">Moderado</option>
                        <option value="alto">Alto</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="sleep-quality" class="form-label">¿Qué tan bien duermes durante la noche?</label>
                    <select class="form-select" id="sleep-quality" name="sleep-quality" required>
                        <option value="">Selecciona una opción</option>
                        <option value="bien">Bien</option>
                        <option value="regular">Regular</option>
                        <option value="mal">Mal</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="social-interaction" class="form-label">¿Cuánto tiempo dedicas a interactuar con amigos o familiares?</label>
                    <select class="form-select" id="social-interaction" name="social-interaction" required>
                        <option value="">Selecciona una opción</option>
                        <option value="mucho">Mucho</option>
                        <option value="moderado">Moderado</option>
                        <option value="poco">Poco</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="self-care-practices" class="form-label">¿Practicas actividades de autocuidado (meditación, yoga, lectura)?</label>
                    <select class="form-select" id="self-care-practices" name="self-care-practices" required>
                        <option value="">Selecciona una opción</option>
                        <option value="frecuentemente">Frecuentemente</option>
                        <option value="a veces">A veces</option>
                        <option value="nunca">Nunca</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="mental-health-awareness" class="form-label">¿Estás consciente de la importancia de la salud mental?</label>
                    <select class="form-select" id="mental-health-awareness" name="mental-health-awareness" required>
                        <option value="">Selecciona una opción</option>
                        <option value="sí">Sí</option>
                        <option value="no">No</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>
            </div>

            <!-- Página 4: Objetivos y Motivación -->
            <div id="page-4" class="page" style="display:none;">
                <div class="mb-3">
                    <label for="fitness-goals" class="form-label">¿Cuál es tu objetivo principal al hacer ejercicio?</label>
                    <select class="form-select" id="fitness-goals" name="fitness-goals" required>
                        <option value="">Selecciona una opción</option>
                        <option value="perder peso">Perder peso</option>
                        <option value="aumentar masa muscular">Aumentar masa muscular</option>
                        <option value="mejorar salud general">Mejorar salud general</option>
                        <option value="aumentar resistencia">Aumentar resistencia</option>
                        <option value="otro">Otro</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="motivational-factors" class="form-label">¿Qué te motiva a seguir con tus hábitos saludables?</label>
                    <input type="text" class="form-control" id="motivational-factors" name="motivational-factors" required>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="goal-setting" class="form-label">¿Estableces metas concretas para tus hábitos de salud?</label>
                    <select class="form-select" id="goal-setting" name="goal-setting" required>
                        <option value="">Selecciona una opción</option>
                        <option value="sí">Sí</option>
                        <option value="no">No</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="challenges" class="form-label">¿Cuáles son los principales desafíos que enfrentas para mantener tus hábitos saludables?</label>
                    <textarea class="form-control" id="challenges" name="challenges" rows="3" required></textarea>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>

                <div class="mb-3">
                    <label for="support-system" class="form-label">¿Cuentas con un sistema de apoyo (amigos, familia, grupo de ejercicio)?</label>
                    <select class="form-select" id="support-system" name="support-system" required>
                        <option value="">Selecciona una opción</option>
                        <option value="sí">Sí</option>
                        <option value="no">No</option>
                    </select>
                    <div class="invalid-feedback">El campo está vacío.</div>
                </div>
            </div>

            <!-- Paginación -->
            <div class="text-center my-4">
                <button type="button" id="prev-btn" class="btn btn-secondary" style="display:none;">Anterior</button>
                <div class="d-flex justify-content-between">
                    <button type="button" id="reset-btn" class="btn btn-danger">Reiniciar</button>
                    <button type="button" id="next-btn" class="btn btn-primary">Siguiente</button>
                </div>
            </div>

            <div class="text-center">
                <button type="submit" class="btn btn-primary" style="display:none;" id="submit-btn">Enviar</button>
            </div>
        </form>
    </div>

    <div id="popover-container" class="position-fixed top-50 start-50 translate-middle">
        <div id="popover" class="popover d-none" role="tooltip">
            <div class="popover-header">¡Formulario Enviado!</div>
            <div class="popover-body">Tu encuesta ha sido enviada correctamente.</div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const form = document.getElementById("experience-form");
            const progressBar = document.getElementById("progress-bar");
            const resetBtn = document.getElementById("reset-btn");
            const nextBtn = document.getElementById("next-btn");
            const prevBtn = document.getElementById("prev-btn");
            const submitBtn = document.getElementById("submit-btn");
            const pages = Array.from(document.querySelectorAll(".page"));
            let currentPage = 0;

            // Resetear formulario
            resetBtn.addEventListener("click", function() {
                form.reset();
                pages.forEach(page => page.style.display = "none");
                currentPage = 0;
                showPage(currentPage);
                progressBar.style.width = "0%";
            });

            // Mostrar la página actual
            function showPage(pageIndex) {
                pages.forEach((page, index) => {
                    page.style.display = (index === pageIndex) ? "block" : "none";
                });

                prevBtn.style.display = (pageIndex === 0) ? "none" : "inline-block";
                nextBtn.style.display = (pageIndex === pages.length - 1) ? "none" : "inline-block";
                submitBtn.style.display = (pageIndex === pages.length - 1) ? "inline-block" : "none";
            }

            // Validar si todos los campos están completos
            function validateForm() {
                let allValid = true;
                const currentPageInputs = pages[currentPage].querySelectorAll("input, select");

                currentPageInputs.forEach(input => {
                    if (!input.checkValidity()) {
                        allValid = false;
                        input.classList.add("is-invalid");
                    } else {
                        input.classList.remove("is-invalid");
                    }
                });

                return allValid;
            }

            // Avanzar a la siguiente página
            nextBtn.addEventListener("click", function () {
                if (validateForm()) {
                    currentPage++;
                    showPage(currentPage);
                }
            });

            // Volver a la página anterior
            prevBtn.addEventListener("click", function () {
                currentPage--;
                showPage(currentPage);
            });

            // Al enviar el formulario 
            form.addEventListener("submit", function (event) {
                event.preventDefault();

                // Mostrar el popover de éxito
                const popover = new bootstrap.Popover(document.getElementById("popover"), {
                    trigger: 'focus'
                });

                document.getElementById("popover").classList.remove("d-none");
                form.reset();
                pages.forEach(page => page.style.display = "none");
                currentPage = 0;
                progressBar.style.width = "0%";
            });
        });
    </script>
</body>

<!-- Footer -->
<footer class="bg-dark text-white py-4">
    <div class="container">
        <div class="row">
            <div class="col-md-4 text-center">
                <h5>Información de Contacto</h5>
                <p><strong>Teléfono:</strong> +34 123 456 789</p>
                <p><strong>Correo electrónico:</strong> contacto@alimentacionysalud.com</p>
                <p><strong>Dirección:</strong> Calle Betis, 1, Sevilla, España</p>
            </div>

            <div class="col-md-4 text-center">
                <h5>Encuéntranos</h5>
                <div class="embed-responsive embed-responsive-16by9">
                    <iframe class="embed-responsive-item"
                        src="https://www.google.com/maps/embed?pb=...tu_codigo_aqui..." allowfullscreen=""
                        loading="lazy"></iframe>
                </div>
            </div>

            <div class="col-md-4 text-center">
                <h5>Síguenos</h5>
                <a href="#" class="btn btn-outline-light btn-sm me-2"><i class="bi bi-facebook"></i> Facebook</a>
                <a href="#" class="btn btn-outline-light btn-sm me-2"><i class="bi bi-twitter"></i> Twitter</a>
                <a href="#" class="btn btn-outline-light btn-sm me-2"><i class="bi bi-instagram"></i> Instagram</a>
            </div>
        </div>
    </div>
</footer>

</html>
